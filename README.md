# Приложене для блокировки и цензуры сообщений с помощью Apache Kafka

## Описание
Приложение разработано на базе **Spring Boot**. Кластер Kafka работает на базе **KRaft**, и использует топики **messages**, **filtered_messages**, **blocked_users**, **forbidden_words**

В составе приложения:
- **Продюсер, который**:
    - Добавляет заблокированного пользователя
    - Отправляет сообщение
    - Добавляет запрещенного слово
- **Приложение Kafka Streams**:
  - На основе топиков **blocked_users**, **forbidden_words** создаются персистентные хранилища **blocked-users-store** и **forbidden-words-store**
  - Поток возвращает значение null, если в хранилище по ключу равному получателю будет найден отправитель
  - Поток замещает символами **"*"** запрещенного слово, если оно найдено в хранилище
  - Данные записываются в выходной топик **filtered_messages**

---

## Запуск проекта

1. **Клонировать репозиторий:**
   ```bash
   git clone https://github.com/shoxied/yandex-kafka-practical-work-3.git
2. Перейти в корневой каталог проекта
3. Запустить Kafka-кластер:
   ```bash
   docker compose -f docker-compose-kafka-kraft.yaml up -d
5. Собрать проект
   ```bash
   mvn clean package
6. Запустить приложение
   ```bash
   java -jar ./target/yandex-kafka-practical-work-3-0.0.1-SNAPSHOT.jar

## Проверка работы

- Swagger доступен по адресу:  
  `http://localhost:8081/swagger-ui.html`
- В контроллере можно:
  - Отправить сообщение, указав отправителя, сообщение, получаетля
  - Заблокировать пользователя, указав пользователя и заблокированного пользователя
  - Добавить запрещенного слово
- Проверить работу приложения можно с помощью **kafka-ui**, доступного по адресу **http://localhost:8080**, просматривая топики